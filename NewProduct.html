<!-- 
/**
 * --------------------------------------------- 
 * @author JIEUN KWON (991447941)
 *	
 * TASK : Assignment 2 
 * Product Information Form & Servlet 
 * --------------------------------------------- 
 *
 * Page : NewProduct.html
 * 		: has product form (id, name, quantity, price, category)		
 * 		: submit to servlet to add, edit, view 
 *
 * created Date : Oct 10, 2018 
 * modified Date : Oct 12, 2018
 */
 -->

<!DOCTYPE html>
<html>
<head>
<meta charset="EUC-KR">
<title>Product Manager</title>

<!--  stylesheet -->
<link rel='stylesheet' type='text/css' href='style.css'>

<script>

	// when loaded, get a focus to product id
	window.onload = function() {
	    document.formProduct.pcode.focus();
	}; 

	// make clear form
	function formClear(){
		
		document.formProduct.reset();
		document.formProduct.pcode.focus();
	}

	
	//  validate and submit form
	function formChgMode(str){
		
		// validate for product id 
		if(document.getElementById("pcode").value == "")
		{
			alert("Please enter product ID");
			document.formProduct.pcode.focus();
			return;
		}
		
		// to add, null check for name, price, and quantity 
		if((str == "add") && (document.getElementById("pname").value == "" || document.getElementById("price").value == "" || document.getElementById("qty").value == ""))
		{
			
			alert("Please enter the mandatory values for new product\n Product Name\n Product Price\n Product Quantity");
			return;
		} 
		
		// to edit, null check for price and quantity 
		if((str == "edit" ) && (document.getElementById("price").value == "" || document.getElementById("qty").value == ""))
		{
			
			alert("Please enter the price and the quantity to edit");
			return;
		} 
		
		
		// submit form	
		if(confirm("Do you want to " + str + " product?")){
				
			document.formProduct.mode.value = str;
			document.formProduct.submit();
		}
		 
	}
	
	

</script>
</head>
<body>

	<div align="center" class="div_title">
	<h2>Product Information</h2>
	</div>

	<!-- form start -->
	<form action="AddProduct" method="post" name="formProduct">

	 <table class="mainT">
		<tr>
			<td width="130px" height="30px" align="right">Product ID
			</td>
			<td width="200px" height="30px">
			<input type="text" name="pcode" id="pcode" value="" maxlength="10" class="box_general">
			</td>
		</tr>
		<tr>
			<td width="130px" height="30px" align="right">Product Name
			</td>
			<td>
				<input type="text" name="pname" id="pname" value="" maxlength="30" class="box_general">
			</td>
		</tr>
		<tr>
			<td width="130px" height="30px" align="right">Price
			</td>
			<td>
			<input type="number" name="price" id="price" value="" class="box_general">
			</td>
		</tr>
		<tr>
			<td width="130px" height="30px" align="right">Quantity
			</td>
			<td>
			<input type="number" name="qty" id="qty" value="" class="box_general">
			</td>
		</tr>
		<tr>
			<td width="130px" height="30px" align="right">Category
			</td>
			<td>
			<input type="text" name="category" value="" maxlength="20" class="box_general">
			</td>
		</tr>
	</table>
	<table>	
		<tr>
		<td align="center" width="500px" height="20px">	
		
			<!--  hidden value -->		  
			<input type="hidden" name="mode" value="">
					  
			<!-- buttons  -->
			<input type="button" value="Add Product" class="bt_general" onclick="javascript:formChgMode('add');"> 
			<input type="button" value="Edit Product " class="bt_general" onclick="javascript:formChgMode('edit');">
		 	<input type="button" value="View Product" class="bt_general" onclick="javascript:formChgMode('view');">
			<input type="button" value="Clear" class="bt_general" onclick="javascript:formClear();">
		  
		</td>
		</tr> 
	</table>

</form>	
</body>
</html>